<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="style.css">

    <title>Safe Test</title>
</head>
<body class="pr-body">
    <a onclick="myClick()"><img class="note" src="images/note.png"></a>
    <img class="level" src="images/level2.png">
    <div class="main-pr">
        <h4 class="title-pr1">Шифрование с помощью решёток</h4>
        <p class="text-1">Расшифруйте послание, зашифрованное способом "Шифрования с помощью решёток".</p>
        <p class="word-pr1">ИПИВАЬОЬРСИВВМЕНОАРСАРОДГТТПТВОДНОРТ</p>
        <p class="word-pr1">Ключ: УТЕЧКА</p>
        <p class="text-1 red">*Значения в поле ответа записывать ЗАГЛАВНЫМИ БУКВАМИ, без пробелов!</p>

        <table class="table-pr2">
            <tr>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
            </tr>
            <tr>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
            </tr>
            <tr>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
            </tr>
            <tr>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
            </tr>
            <tr>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
            </tr>
            <tr>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
                <td><input class="input-pr2" type="text"></td>
            </tr>

            <tr>
                <th><input class="input-pr2" type="text" placeholder="К"></th>
                <th><input class="input-pr2" type="text" placeholder="Л"></th>
                <th><input class="input-pr2" type="text" placeholder="Ю"></th>
                <th><input class="input-pr2" type="text" placeholder="Ч"></th>
                <th><input class="input-pr2" type="text"></th>
                <th><input class="input-pr2" type="text"></th>
            </tr>
        </table>
        <img id="reshetka-big" class="reshetka-big" src="images/reshetka.png">
        <a onclick="openReshetka()"><img class="reshetka" src="images/reshetka.png"></a>
        <p class="nazhmi">Нажми на меня</p>
        <a onclick="routeRight()"><img id="route-right" class="route-right" src="images/route_right.png"></a>
        <a onclick="routeLeft()"><img id="route-left" class="route-left" src="images/route_left.png"></a>
        <input class="input-otvet" type="text" id="z_1" placeholder="ОТВЕТ">
        <button id="hide-button" class="hide-button" onclick="hideReshetka()">Убрать решетку</button>
    </div>
    <div id="myModal" class="modal">
        <span class="close white">×</span>
        <img id="th" class="center" src="notebook/theory2.png">
    </div>

    <button class="button-check" onclick='proverit()'>Проверить</button>
    <button id="next-page" class="next-page" onclick="document.location='pr3.html'">Следующее задание</button>
    <div id="main-dialog-hide" class="main-dialog">
        <img id="enma" src="images/Энма.gif">
        <img id="eli" src="images/Эля.gif">
        <a onclick="helpDialog1()">
            <div id="helpDialog1" class="dialog">
                <p class="word-pr1 dark-brown">— Ребята, у вас возникли трудности? Я могу предложить свою помощь.</p>
            </div>
        </a>
        <a onclick="helpDialog2()">
            <div id="helpDialog2" class="dialog">
                <p class="word-pr1 dark-brown">— Идите к следующему заданию, а это я вам засчитаю. Окей?</p>
            </div>
        </a>
        <div id="helpDialog3" class="dialog">
            <button class="btn-yes text-center" onclick="skip()">— Да, мы хотим пропустить задание.</button>
            <button class="btn-no text-center" onclick="helpDialog3()">— Нет, мы ещё подумаем.</button>
        </div>
        <a onclick="helpDialog4()">
            <div id="helpDialog4" class="dialog">
                <p class="word-pr1 dark-brown">— Хорошо, но если всё-таки захотите пропустить задание, оставлю вам такую возможность.</p>
            </div>
        </a>
        <a onclick="helpDialog5()">
            <div id="helpDialog5" class="dialog">
                <p class="word-pr1 dark-brown">— Нажмите на кнопку "Пропустить" и перейдём к следующему заданию.</p>
            </div>
        </a>
    </div>
    <button id="skip" class="button-skip" onclick='skip()'>Пропустить</button>

    <div class="bottom-stroke">
        <p>Roman Prav</p>
    </div>
    <div class="top-stroke">
        <p>Roman Prav</p>
    </div>
    <script>

        setTimeout(function () {
            document.getElementById("main-dialog-hide").style.display = "block";
            document.getElementById("helpDialog1").style.display = "block";
            document.getElementById("enma").style.display = "block";
        }, 300000);

        function helpDialog1() {
            document.getElementById("helpDialog1").style.display = "none";
            document.getElementById("helpDialog2").style.display = "block";
        }
        function helpDialog2() {
            document.getElementById("helpDialog2").style.display = "none";
            document.getElementById("helpDialog3").style.display = "block";
            document.getElementById("enma").style.display = "none";
            document.getElementById("eli").style.display = "block";
        }
        function helpDialog3() {
            document.getElementById("helpDialog3").style.display = "none";
            document.getElementById("helpDialog4").style.display = "block";
            document.getElementById("enma").style.display = "block";
            document.getElementById("eli").style.display = "none";
        }
        function helpDialog4() {
            document.getElementById("helpDialog4").style.display = "none";
            document.getElementById("helpDialog5").style.display = "block";
        }
        function helpDialog5() {
            document.getElementById("main-dialog-hide").style.display = "none";
            document.getElementById("helpDialog5").style.display = "none";
            document.getElementById("enma").style.display = "none";
            document.getElementById("skip").style.display = "block";
        }
        function skip() {
            if (confirm("Вы уверены, что хотите пропустить задание?")) {
                document.location = 'pr3.html';
            } else {

            }
        }

        var modal = document.getElementById('myModal');

        function myClick() {
            document.getElementById("th").style.display = "block";
            modal.style.display = "block";
        }

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        function openReshetka() {
            document.getElementById("reshetka-big").style.display = "inline-block";
            document.getElementById("hide-button").style.display = "block";
            document.getElementById("route-right").style.display = "block";
            document.getElementById("route-left").style.display = "block";
        }

        function hideReshetka() {
            document.getElementById("reshetka-big").style.display = "none";
            document.getElementById("hide-button").style.display = "none";
            document.getElementById("route-right").style.display = "none";
            document.getElementById("route-left").style.display = "none";
        }

        var current_rotation = 0;

        function routeRight() {

            current_rotation += 90;
            document.querySelector("#reshetka-big").style.transform = 'rotate(' + current_rotation + 'deg)';
        }

        function routeLeft() {

            current_rotation += -90;
            document.querySelector("#reshetka-big").style.transform = 'rotate(' + current_rotation + 'deg)';
        }

        function proverit() {
            pr_otv_1 = 'ГОДПРОВОДИТЬИСНОВАВСТРЕТИТЬРОМАНПРАВ';
            otv_uch_1 = document.getElementById('z_1').value;
            ball = 0;
            if (otv_uch_1 == pr_otv_1) {
                ball += 1;
            }
            if (ball == 1) {
                alert('Проверка прошла успешно;) Для продолжения нажмите на кнопку "Следующее задание".');
                document.getElementById("next-page").style.display = "block";
                document.getElementById("skip").style.display = "none";
            }
            else {
                alert('Ошибка! Ответ неверный.');
            }
        }

    </script>
</body>
</html>